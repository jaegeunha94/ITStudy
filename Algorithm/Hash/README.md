# [해시 함수 3가지 특성](https://ckidsm.tistory.com/140)
1. 역상 저항성: 단방향
2. 제2 역상 저항성: 고정된 길이
3. 충돌 저항성

# 해시 함수가 등장하게 된 배경
* 원소 하나를 저장하고 검색하는데 O(n)의 시간 소요
* 트리는 원소 하나를 저장하고 검색하는데 평균 O(log n)의 시간 소요
  * 저장된 자료가 많아지면 오래걸림
* 저장된 자료의 양과 상관없이 원소 하나를 저장하고 검색하는 것을 상수 시간에 할 수는 없을까?
  * 해시 테이블의 등장

# 좋은 해시 함수의 조건
1. 계산이 간단해야 한다.
2. 입력 원소가 해시 테이블 전체에 고루 저장되어야 한다
  * 해시 충돌을 피하기 위해

# 해시 충돌
* 해시 함수가 서로 다른 두 개의 입력값에 대해 같은 출력값을 내는 상황

## 1. 체이닝
* 같은 주소로 해싱되는 원소를 모두 하나의 연결리스트에 매달아서 관리한다
* 원소를 검색할 때는 해당 연결 리스트의 원소들을 차례로 지나가면서 탐색한다.
* 하지만 체이닝이 길어지면 원소를 검색하는데 짧은 시간이 걸리는 기존의 해싱의 장점이 사라짐

## 2. 개방 주소 방법(Open addressing)
* 체이닝과 달리 어떻게든 주어진 테이블 공간에서 해결한다
* 따라서 모든 원소가 반드시 자신의 해시값과 일치하는 주소에 저장된다는 보장이 없다
* 선형조사(Linear probing), 이차원 조사(quardratic probing), 더블 해싱(double hashing)

### 선형 조사
* 가장 간단한 충돌 해결 방법
* 충돌이 일어난 자리에 관한 일차 함수의 보폭으로 점프한다
* hi(x)는 h(x)에서 i만큼 떨어진 자리이다
* 테이블의 경계를 넘어갈 경우에는 맨 앞으로 돌아간다

### 이차원 조사
* 바로 뒷자리를 보는 대신 보폭을 이차 함수로 넓혀가면서 본다
* 예를 들어 i번째 해시 함수롤 h(x)에서 i^2만큼 떨어진 자리로 삼는다
* 특정 영역에 원소가 몰려도 그 영역을 빨리 벗어날 수 있다.

### 더블 해싱
* 두 개의 함수를 이용한다
* 하나의 함수는 최초의 해시값을 얻을 때, 다른 하나의 함수는 해시 충돌이 일어났을 때 이동할 폭을 얻을 때 사용한다
* 두 원소의 첫 번째 해시값이 같더라도 두 번쨰  해시값까지 같은 화률은 매우 작으므로 서도 다른 보폭으로 점프하게 한다.


# 공격 기법(http://wiki.hash.kr/index.php/%ED%8C%A8%EC%8A%A4%EC%9B%8C%EB%93%9C_%ED%81%AC%EB%9E%98%ED%82%B9)

## 레인보우 테이블
레인보우 테이블(rainbow table)은 해시함수(MD-5, SHA-1, SHA-2 등)를 사용하여 만들어낼 수 있는 값들을 대량으로 저장한 표이다.   
보통 해시함수를 이용하여 저장된 비밀번호로부터 원래의 비밀번호를 추출해 내는데 사용된다.

## 다이제스트
일반적으로 사용자가 입력한 비밀번호는 암호화 해시 함수를 거쳐 다이제스트(Digest)의 형태로 저장됩니다.   
여기서 다이제스트란, 해시 함수라는 수학적인 연산을 통해 생성된 암호화된 메시지를 의미합니다.   
해시 함수는 임의의 비밀번호 입력값을 문자와 숫자를 임의로 나열한 일정한 길이의 다이제스트로 전환합니다.   
기존에 데이터베이스에 저장된 다이제스트와 비교해서 일치하면 서비스에 로그인할 수 있습니다.

## 사용시 주의점
* 해커들은 레인보우 테이블을 보고 입력값을 예측할 수 있다. 그럴 때 필요한게 Salt 이다.
1. Salt의 사용; 원본에 첨가해서 해시값을 다르게 만드는 값
  * Brute-Force Attack(무작위로 문자열을 대입하는 해킹 기법)에 대처하기 위해
  * Salt의 길이를 최대한 길게, 안전하게 보관한다.
2. Key-Stretching: 해시값을 여러번 해시값에 넣기를 반복하여 해킹을 방지
3. 데이터 충돌을 방지해야 한다.
  * 리스트를 데이터로 관리하는 Chaining 기법을 사용
  * 위치를 조정하는 Open Addressing 기법 사용
  
  
# 참조
[해시넷."패스워드 크래킹", http://wiki.hash.kr/index.php/%ED%8C%A8%EC%8A%A4%EC%9B%8C%EB%93%9C_%ED%81%AC%EB%9E%98%ED%82%B9, (2022.05.19)](http://wiki.hash.kr/index.php/%ED%8C%A8%EC%8A%A4%EC%9B%8C%EB%93%9C_%ED%81%AC%EB%9E%98%ED%82%B9)
